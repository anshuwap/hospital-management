<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="HmsPackage" extends="struts-default" namespace="/">
		<interceptors>
			<interceptor name="authInterceptor" class="ece651.interceptor.AuthInterceptor"></interceptor>            
			<interceptor name="timer" class="com.opensymphony.xwork2.interceptor.TimerInterceptor"></interceptor>
			
			<interceptor-stack name="authStack">
				<interceptor-ref name="authInterceptor"></interceptor-ref>				
				<interceptor-ref name="timer"></interceptor-ref>
				<interceptor-ref name="defaultStack"></interceptor-ref>
			</interceptor-stack>
			
		</interceptors>
		
		<global-results>
			<result name="login">/login.jsp</result>
		</global-results>
		
		<action name="login" class="ece651.action.LoginAction" method="login">
			<!--<result name="success" type="dispatcher">/WEB-INF/admin/adminMain.jsp</result>-->
			<!--<result name="success" type="dispatcher">/WEB-INF/doctor/doctorMain.jsp</result>-->
			<result name="success" type="chain">${nextActionName}</result>
			<result name="error" type="dispatcher">/login.jsp</result>
			<result name="input">/login.jsp</result>
			<!--<interceptor-ref name="tokenSession"></interceptor-ref>-->
			<interceptor-ref name="timer"></interceptor-ref>
			<interceptor-ref name="defaultStack"></interceptor-ref>
		</action>
		
 		<action name="ADMIN">
 			<result>/WEB-INF/admin/adminMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		<action name="DOCTOR">
 			<result>/WEB-INF/doctor/doctorMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		<action name="STAFF">
 			<result>/WEB-INF/staff/staffMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		<action name="PATIENT">
 			<result>/WEB-INF/patient/patientMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		<action name="FINANCIAL">
 			<result>/WEB-INF/financial/financialMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		<action name="LEGAL">
 			<result>/WEB-INF/legal/legalMain.jsp</result> 			
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action> 		 	
		<action name="logout" class="ece651.action.LoginAction" method="logout">
			<result name="success" type="dispatcher">/login.jsp</result>
			<result name="error" type="dispatcher">/login.jsp</result>
			<result name="input">/login.jsp</result>			
			<interceptor-ref name="timer"></interceptor-ref>
			<interceptor-ref name="defaultStack"></interceptor-ref>
		</action>

	</package>
</struts>
