<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name="ece651.model.Visitation" table="Visitation" >
		<id name="visitationId" column="VisitationId" >
		</id>
		<property name="patientId" column="PatientId"/>
		<property name="doctorId" column="DoctorId"/>
		<property name="visitationType" column="VisitationType"/>
		<property name="visitationDate" column="VisitationDate"/>
		<property name="symptomDescription" column="SymptomDescription"/>
		<property name="diagnosisResult" column="DiagnosisResult"/>
		<property name="startTime" column="StartTime"/>
		<property name="endTime" column="EndTime"/>
	</class>
	<class name="ece651.model.Prescription" table="Prescription" >
		<composite-id>
			<key-property name="visitationId" column="VisitationId" />
			<key-property name="versionNo" column="VersionNo"/>
			<key-property name="prescriptionId" column="PrescriptionId"/>
		</composite-id>
		<set name="prescribedmedicineSet" table="prescribedmedicine" cascade="all" lazy="false">
			<key>
				<column name="VisitationId"></column>
				<column name="VersionNo"></column>
				<column name="PrescriptionId"></column>
			</key>
			<one-to-many class="ece750.t18.model.Prescribedmedicine"/>
		</set>
	</class>
	
	<class name="ece651.model.DiagnosisTest" table="DiagnosisTest" >
		<composite-id>
			<key-property name="visitationId" column="VisitationId" />
			<key-property name="versionNo" column="VersionNo"/>
			<key-property name="diagnosisId" column="DiagnosisId"/>
		</composite-id>
		<property name="description" column="Description"/>
		<property name="result" column="Result"/>
	</class>
	
	<class name="ece651.model.Surgery" table="Surgery" >
		<composite-id>
			<key-property name="visitationId" column="VisitationId" />
			<key-property name="versionNo" column="VersionNo"/>
			<key-property name="treatmentId" column="TreatmentId"/>
		</composite-id>
		<property name="scheduledDate" column="ScheduledDate"/>
		<property name="description" column="Description"/>
		<property name="result" column="result"/>
	</class>

	<class name="ece651.model.Inpatient" table="Inpatient" >
		<id name="medicineId" column="MedicineId" unsaved-value="0">
			<generator class="increment"/>
		</id>
		<property name="medicineName" column="MedicineName"/>
		<property name="manufacturer" column="Manufacturer"/>
		<property name="instruction" column="Instruction"/>
	</class>
	
    <class name="ece651.model.InpatientDairy" table="InpatientDairy" >
		<composite-id>
			<key-property name="visitationId" column="VisitationId" />
			<key-property name="versionNo" column="VersionNo"/>
			<key-property name="prescriptionId" column="PrescriptionId"/>
 			<key-many-to-one name="medicine" column="MedicineId" class="ece750.t18.model.Medicine" lazy="false"></key-many-to-one>
		</composite-id>
	</class>	
</hibernate-mapping>